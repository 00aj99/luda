{"version":3,"file":"site.js","sources":["../../coffee/documentation.coffee","../../coffee/theme.coffee"],"sourcesContent":["(->\n  docAsideScrollTop = 0\n\n  luda(document).on 'turbolinks:before-visit', (e) ->\n    $container = luda('#doc-aside').get 0\n    docAsideScrollTop = if $container then $container.scrollTop else 0\n\n  luda(document).on 'turbolinks:render', (e) ->\n    $container = luda('#doc-aside').get 0\n    $container.scrollTop = docAsideScrollTop if $container\n\n\n\n  clipboard = null\n\n  renderCode = ->\n    $codes = luda '.highlight:not(.rendered)'\n    $codes.each ->\n      luda(this).addClass('rendered')\n      @outerHTML = \"<div class='rel'>\\\n      <button type='button' \\\n      class='code-copy abs-r abs-t zi-high btn btn-small btn-secondary'>\\\n      Copy</button>#{@outerHTML}</div>\"\n\n  initClipboard = ->\n    clipboard.destroy() if clipboard\n    clipboard = new ClipboardJS('.code-copy', {\n      target: (trigger) -> trigger.nextElementSibling\n    })\n    clipboard.on 'success', (e) ->\n      e.clearSelection()\n      luda(e.trigger)\n      .removeClass('focus btn-secondary')\n      .addClass('btn-primary')\n      .text('Copied!')\n      setTimeout ->\n        luda(e.trigger)\n        .addClass('btn-secondary')\n        .removeClass('btn-primary')\n        .text('Copy')\n      , 2000\n\n  initCode = ->\n    renderCode()\n    initClipboard()\n\n  luda.ready -> initCode()\n  luda(document).on 'turbolinks:render', initCode\n\n\n\n  insertSubNav = ->\n    selectors = '#doc-container h2[id],\\\n    #doc-container h3[id],\\\n    #doc-container h4[id]'\n    $titles = luda selectors\n    items = ''\n    if $titles.length\n      $titles.each ->\n        link = \"<a href='##{@id}' data-turbolinks='false' \\\n        class='doc-sub-nav-item td-none'>\\\n        #{luda(this).text().replace(/^#/, '').replace(/modifier$/i, '')}</a>\"\n        switch @tagName.toLowerCase()\n          when 'h2'\n            itemClass = 'p7 mt-small mb-tiny py-none text-ellipsis'\n          when 'h3'\n            itemClass = 'p7 pl-medium mb-tiny py-none text-ellipsis'\n          else\n            itemClass = 'p7 pl-large mb-tiny py-none text-ellipsis'\n        items += \"<p class='#{itemClass}'>#{link}</p>\"\n      luda('#doc-sub-nav .nav-items').html items\n\n  luda.ready -> insertSubNav()\n  luda(document).on 'turbolinks:render', insertSubNav\n\n\n\n  appendAnchors = ->\n    selectors = '#doc-container h2[id]:not(.rendered),\\\n    #doc-container h3[id]:not(.rendered),\\\n    #doc-container h4[id]:not(.rendered),\\\n    #doc-container h5[id]:not(.rendered),\\\n    #doc-container h6[id]:not(.rendered)'\n    $titles = luda selectors\n    if $titles.length\n      $titles.each ->\n        luda(this).addClass('rendered rel')\n        link = \"<a href='##{@id}' data-turbolinks='false' \\\n        class='doc-anchor abs td-none c-primary'>#</a>\"\n        luda(this).prepend link\n\n  luda.ready -> appendAnchors()\n  luda(document).on 'turbolinks:render', appendAnchors\n)()","(->\n  APPLIED_THEME_ATTRIBUTE = 'data-applied-theme'\n  THEME_PATH_PATTERN_ATTRIBUTE = 'data-theme-path-pattern'\n  THEME_PATH_PLACEHOLDER = '$theme$'\n  APPLIED_THEME_STYLE_ATTRIBUTE = 'data-theme-style'\n  SHOW_FOR_THEME_ATTRIBUTE = 'data-theme'\n  HIDDEN_CLASS = 'd-none'\n  CHANGING_CLASS = 'changing-theme'\n  TRIGGER_SELECTOR = '.change-theme'\n  isChanging = false\n\n\n\n  appliedTheme = ->\n    luda('html').data APPLIED_THEME_ATTRIBUTE\n\n\n\n  loadTheme = (theme, callback) ->\n    pathPattern = luda('html').data THEME_PATH_PATTERN_ATTRIBUTE\n    $appliedTheme = luda \"[#{APPLIED_THEME_STYLE_ATTRIBUTE}]\"\n    $theme = luda '<link>'\n    $theme.get(0).rel = 'stylesheet'\n    $theme.get(0).type = 'text/css'\n    $theme.data APPLIED_THEME_STYLE_ATTRIBUTE, theme\n    $theme.get(0).href = pathPattern.replace THEME_PATH_PLACEHOLDER, theme\n    $theme.get(0).onload = callback\n    $appliedTheme.replaceWith $theme\n\n\n\n  changeTheme = (theme) ->\n    unless isChanging or theme is appliedTheme()\n      isChanging = true\n      luda('html').data APPLIED_THEME_ATTRIBUTE, theme\n      luda('body').addClass CHANGING_CLASS\n      setTimeout(->\n        loadTheme theme, ->\n          toggleThemeElements()\n          luda('body').removeClass CHANGING_CLASS\n          setTimeout(->\n            isChanging = false\n          , 500)\n      , 500)\n\n\n\n  removeOldThemes = ->\n    appliedThemeName = appliedTheme()\n    luda(\"[#{APPLIED_THEME_STYLE_ATTRIBUTE}]\").each ->\n      themeName = luda(this).data APPLIED_THEME_STYLE_ATTRIBUTE\n      luda(this).remove() unless themeName is appliedThemeName\n\n\n\n  toggleThemeElements = ($range) ->\n    appliedThemeName = appliedTheme()\n    luda(\"[#{SHOW_FOR_THEME_ATTRIBUTE}]\", $range).each ->\n      themeName = luda(this).data SHOW_FOR_THEME_ATTRIBUTE\n      luda(this).toggleClass HIDDEN_CLASS, themeName is appliedThemeName\n\n\n\n  luda(document).on 'change', TRIGGER_SELECTOR, -> changeTheme(this.value)\n  luda(document).on 'turbolinks:render', -> removeOldThemes()\n  luda(document).on 'turbolinks:before-render', (e) ->\n    toggleThemeElements(e.data.newBody)\n  luda(document).on 'turbolinks:load', (e) ->\n    toggleThemeElements() unless e.data.timing.requestStart\n)()"],"names":[],"mappings":"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"}