<!-- markdownlint-disable -->
<!-- markdownlint-disable -->





<!DOCTYPE html>
<html lang="en" data-init-theme="default" data-applied-theme="default" data-theme-path-pattern="/luda/0.3.x/.dist/css/luda-$theme$.min.css">
  <head>
    <title>Build A Component | Luda is a library helps to build cross-framework UI components.</title>
    <!-- markdownlint-disable -->
<meta charset="UTF-8">
<!-- viewport -->
<meta name="viewport" content="width=device-width,initial-scale=1,maximum-scale=1">
<!-- render -->
<meta name="renderer" content="webkit">
<meta http-equiv="X-UA-Compatible" content="IE=Edge,chrome=1">
<!-- apple app mode -->
<meta name="apple-mobile-web-app-capable" content="yes">
<meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
<meta name="apple-mobile-web-app-title" content="Luda">
<!-- chrome -->
<meta name="mobile-web-app-capable" content="yes">
<!-- Chrome, Firefox OS and Opera -->
<!-- <meta name="theme-color" content="#8c447c"> -->
<!-- Windows Phone -->
<!-- <meta name="msapplication-navbutton-color" content="#8c447c"> -->
<meta name="application-name" content="Luda">
<!-- apple no tel -->
<meta content="telephone=no" name="format-detection">
<!-- windows phone no tap color -->
<meta name="msapplication-tap-highlight" content="no">
<meta name="author" content="Oatw">
<meta name="keywords" content="luda, cross-framework, component-based, ui-library">
<meta name="description" content="Luda is a library helps to build cross-framework UI components.">
    <link rel="shortcut icon" href="/luda/0.3.x/favicon.ico">
    <link href='https://fonts.googleapis.com/css?family=Playfair+Display:700,900|Roboto:400,100,100italic,300,300italic,400italic,500,500italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'>
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet" type="text/css">
    <script type="text/javascript" src="/luda/0.3.x/assets/js/turbolinks.js"></script>
    <link rel="stylesheet" type="text/css" data-theme-style="default" href="/luda/0.3.x/.dist/css/luda-default.min.css">
    
    <link rel="stylesheet" type="text/css" href="/luda/0.3.x/.dist/css/site.min.css">
    <script type="text/javascript" src="/luda/0.3.x/.dist/js/luda-degradation.min.js"></script>
    <script type="text/javascript" src="/luda/0.3.x/.dist/js/luda.min.js"></script>
    <script type="text/javascript" src="/luda/0.3.x/assets/js/clipboard.js"></script>
    <script type="text/javascript" src="/luda/0.3.x/.dist/js/site.min.js"></script>
    <script type="text/javascript" src="/luda/version.js"></script>
    <!-- markdownlint-disable -->
<script type="text/javascript">
  window.site = window.site || {}
  window.site.version = "0.3.x"
  luda.ready(function(){
    if(window.site.version != window.site.latestVersion){
      luda.toggle('#site-version-alert').activate()
    }
  })
</script>

    
  </head>
  <body>
    
    <!-- markdownlint-disable -->
<div id="site-version-alert" class="alert fix-t fix-l w-100 bc-danger jc-center" style="z-index:100" data-toggle-target="site-version-alert">
  <div class="alert-content">
    <p>
      There is a newer version of <a class="link-light" data-turbolinks="false" href="/luda">Luda</a>.
    </p>
  </div>
  <div class="alert-action">
    <a data-turbolinks="false" href="/luda" class="btn btn-light btn-small mr-small">Let's go!</a>
    <button data-toggleable class="btn btn-hollow-light btn-small">I don't care.</button>
  </div>
</div>

    
    <!-- markdownlint-disable -->
<div id="doc" class="grid-edge">
  <!-- markdownlint-disable -->

<aside id="doc-aside" class="nav-aside col-12 col-3-m pb-medium-m">
  <a href="/luda/0.3.x/" data-turbolinks="false" class="nav-logo">
    <img src="/luda/0.3.x/assets/img/logo-text-light.svg" alt="logo">
  </a>
  <!-- markdownlint-disable -->
<!-- markdownlint-disable -->



<div id="theme-dropdown" data-turbolinks-permanent class="dropdown-fixed ml-auto d-none-m">
  <button class="btn btn-ico btn-text-primary">
    <i class="change-theme-trigger ico material-icons">brush</i>
  </button>
  <div class="dropdown-menu">
    <div class="dropdown-items">
      <div class="btns-y">
        
        <div class="btn-radio btn-hollow-primary">
          
          <input class="change-theme" checked type="radio" name="theme_dropdown_apply_theme" value="default">
          
          <label class="bd-none tt-cap">Theme default</label>
        </div>
        
      </div>
    </div>
  </div>
</div>
  <button class="nav-open btn btn-text-light btn-ico ml-none" data-toggle-for="nav-aside-menu">
    <i class="ico ico-menu"></i>
  </button>
  <div class="nav-menu" data-toggle-target="nav-aside-menu" data-toggleable>
    <button class="nav-close btn btn-text-light btn-ico">
      <i class="ico ico-cross"></i>
    </button>
    <div class="nav-items">
      <p class="display px-small fw-semibold c-light">Get Started</p>
      
      <!-- markdownlint-disable -->


  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/general/introduction">Introduction</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/general/installation">Installation</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/general/browser-support">Browser Support</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/general/modular-import">Modular Import</a>
  


    </div>
    <div class="nav-items">
      <p class="display px-small fw-semibold c-light">Advanced</p>
      
      <!-- markdownlint-disable -->


  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/advanced/theming">Theming</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/advanced/breakpoints">Breakpoints</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny btn-active" href="/luda/0.3.x/advanced/component">Build A Component</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/advanced/api">Kernel Engine API</a>
  


    </div>
    <div class="nav-items">
      <p class="display px-small fw-semibold c-light">Behaviors</p>
      <!-- markdownlint-disable -->


  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/behaviors/disabled">Disabled</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/behaviors/enter">Enter</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/behaviors/focus">Focus</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/behaviors/readonly">Readonly</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/behaviors/tabulate">Tabulate</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/behaviors/toggle">Toggle</a>
  


    </div>
    <div class="nav-items">
      <p class="display px-small fw-semibold c-light">Elements</p>
      <!-- markdownlint-disable -->


  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/badge">Badge</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/baseline">Baseline</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/button">Button</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/container">Container</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/form">Form</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/grid">Grid</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/icon">Icon</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/media">Media</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/overlay">Overlay</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/progress">Progress</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/scrollbar">Scrollbar</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/table">Table</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/elements/typography">Typography</a>
  


    </div>
    <div class="nav-items">
      <p class="display px-small fw-semibold c-light">Patterns</p>
      <!-- markdownlint-disable -->


  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/alert">Alert</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/article">Article</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/avatar">Avatar</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/breadcrumb">Breadcrumb</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/button-group">Button Group</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/button-icon">Button Icon</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/carousel">Carousel</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/dropdown">Dropdown</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/form-dropdown">Form Dropdown</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/form-group">Form Group</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/form-icon">Form Icon</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/modal">Modal</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/navigation">Navigation</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/search-bar">Search Bar</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/patterns/tab">Tab</a>
  


    </div>
    <div class="nav-items">
      <p class="display px-small fw-semibold c-light">Utilities</p>
      <!-- markdownlint-disable -->


  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/alignment">Alignment</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/background">Background</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/border">Border</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/color">Color</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/display">Display</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/flex">Flex</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/float">Float</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/opacity">Opacity</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/overflow">Overflow</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/position">Position</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/shadow">Shadow</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/shape">Shape</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/size">Size</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/spacing">Spacing</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/text">Text</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/visibility">Visibility</a>
  

  
  <a class="btn btn-small btn-text-light mt-tiny" href="/luda/0.3.x/utilities/z-index">Z-index</a>
  


    </div>
  </div>
</aside>

<button class="btn btn-dark btn-ico fix-r fix-t zi-highest circle sd-high m-small d-none-m" data-toggle-for="nav-aside-menu">
  <i class="ico ico-menu"></i>
</button>

  <main id="doc-container" class="col-auto p-medium pt-small-m px-large-m pb-large-m">
    <article class="article max-w-100 p-none">
      <h1 class="page-title display fw-semibold mt-large-m">Build A Component</h1>
      <p class="h3 page-sub-title fw-light">You'll learn the most important things of building components with Luda in this chapter.</p>
      <h2 id="live-demos">Live Demos</h2>

<p>There are some <a href="https://codepen.io/collection/nmBYVv">live demos</a> built with Luda,
you can play with them at codepen.</p>

<h2 id="how-luda-component-works">How Luda Component Works</h2>

<h3 id="component-class-execution-process">Component Class Execution Process</h3>

<figure class="media media-contain w-100 media-zoom">
  <a href="/luda/0.3.x/assets/img/execution.png" target="_blank" class="d-block">
    <picture class="media-content" style="padding-top:144%">
      <img src="/luda/0.3.x/assets/img/execution.png" alt="component class execution process" />
    </picture>
  </a>
</figure>

<h3 id="component-instance-lifecycle">Component Instance Lifecycle</h3>

<figure class="media media-contain w-100 media-zoom">
  <a href="/luda/0.3.x/assets/img/lifecycle.png" target="_blank" class="d-block">
    <picture class="media-content" style="padding-top:206.4%">
      <img src="/luda/0.3.x/assets/img/lifecycle.png" alt="component instance lifecycle" />
    </picture>
  </a>
</figure>

<h2 id="define-component-classes">Define Component Classes</h2>

<p>When you create components with Luda, you actually define component class objects.
Luda will maintain component instances automatically according to your definitions.</p>

<p>A component class can be created by calling the <code class="highlighter-rouge">luda.component</code> factory function.
This function accepts two parameters, the name and the root selector of a class.</p>

<h3 id="named-component">Named Component</h3>

<p>If a string is passed in as the name parameter, Luda treats the component as
a named component which can be accessed by component users.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Create a named component class.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
</code></pre></div></div>

<p>Component users can use the automatically created proxy of a named component to
pick component instances by passing in a selector, and access public properties
and methods of the instances.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Component users can access a specific component instance</span>
<span class="c1">// of a named component class.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">myComponent</span><span class="p">(</span><span class="s1">'#my-component'</span><span class="p">).</span><span class="nx">doSomething</span><span class="p">().</span><span class="nx">doSomethingElse</span><span class="p">()</span>
<span class="c1">// @example Component users can access multiple component instances</span>
<span class="c1">// of a named component class.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">myComponent</span><span class="p">(</span><span class="s1">'.my-component'</span><span class="p">).</span><span class="nx">doSomething</span><span class="p">().</span><span class="nx">doSomethingElse</span><span class="p">()</span>
</code></pre></div></div>

<h3 id="anonymous-component">Anonymous Component</h3>

<p>If you pass in <code class="highlighter-rouge">undefined</code> as the name parameter, Luda treats your component as an
anonymous component which can not be accessed by component users.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Create an anonymous component class.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="kc">undefined</span><span class="p">,</span> <span class="s1">'.my-anonymous-component'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="multition-component">Multition Component</h3>

<p>By passing in a valid css selector as the root selector parameter, you get
a component class which can create multiple instances.
Any element matches the selector will be treated as a component root element.
An instance will be created for each root element, after document ready or a root
element appended to document. A created instance will be destroied after its root
element removed from document or attributes changed which makes it don’t match the
root selector anymore.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Create a multition component class.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
</code></pre></div></div>

<h3 id="singleton-component">Singleton Component</h3>

<p>You won’t need a singleton component except you want to handle global behaviors.
A singleton component class can be defined by passing in
<code class="highlighter-rouge">document</code> as the root selector. Only one instance will be created after document
ready and it will never be destroied since the document object is always there,
except current web page is destroied or redirected.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Create a singleton component class.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'mySingletonComponent'</span><span class="p">,</span> <span class="nb">document</span><span class="p">)</span>
</code></pre></div></div>

<p>You may wonder why a singleton component class cannot be created by passing in
a specfic html element but only the <code class="highlighter-rouge">document</code> object? That’s because in single
page applications, you can not ensure the element picked is the same object
after page redirections. That may lead to instance lifecycles not able to be
tracked.</p>

<h2 id="define-component-properties">Define Component Properties</h2>

<p>Component properties and methods are defined on prototypes of component classes.
The execution context of defined methods is the current component instance, which
means <code class="highlighter-rouge">this</code> points to the instance itself except you manually change the
execution context.</p>

<h3 id="private-property">Private Property</h3>

<p>All properties of a component instance are treated private by default.
Additionally, you can define private properties with the <code class="highlighter-rouge">.protect</code> method for
a clear meaning. If a component user tries to access private properties of
components, warning messages will be shown on the console pannel.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Define private properties and methods.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">protect</span><span class="p">({</span>
  <span class="c1">// Define a self maintained property</span>
  <span class="c1">// with a default value.</span>
  <span class="na">counts</span><span class="p">:</span> <span class="mi">0</span><span class="p">,</span>
  <span class="c1">// Define a parent maintained property,</span>
  <span class="c1">// which is passed in to this component</span>
  <span class="c1">// through the data-max-toggle-counts attribute.</span>
  <span class="nx">maxCounts</span><span class="p">(){</span>
    <span class="k">return</span> <span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">data</span><span class="p">(</span><span class="s1">'max-toggle-counts'</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="public-property">Public Property</h3>

<p>If you want to expose public properties of named components to component users,
you can define them with the <code class="highlighter-rouge">.include</code> method.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Define public properties and methods.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">include</span><span class="p">({</span>
  <span class="c1">// Do something and dispatch an event</span>
  <span class="c1">// to transfer data to ancestor components.</span>
  <span class="nx">toggle</span><span class="p">(){</span>
    <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">counts</span> <span class="o">&lt;</span> <span class="k">this</span><span class="p">.</span><span class="nx">maxCounts</span><span class="p">()){</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">counts</span> <span class="o">+=</span> <span class="mi">1</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="s1">'active'</span><span class="p">).</span><span class="nx">trigger</span><span class="p">(</span><span class="s1">'toggled'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">counts</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h2 id="define-component-helpers">Define Component Helpers</h2>

<p>Component helpers are functions used to bind event listeners, watch dom mutations,
and collect dom elements for components. The create helper and destroy helper’s
execution context is the current component instance, and the execution context
of the other helpers is the component class’s prototype.</p>

<h3 id="the-find-helper">The Find Helper</h3>

<p>The find helper should return definitions of element searching rules in an
object for creating element getters on the component class’s prototype.
These getters works under the context of component instances. Searching rules
can be defined as css selectors, functions and any other objects.</p>

<p>If a rule is defined as css selectors, the searching range is inside the
current instance’s root element. Matched elements will be collected and cached
when necessary. After matched elements added to or removed from the root element
dom tree, cached results of the getters will be updated automatically.
(For nested components, only elements directly warpped in current instance’s
root element but not nested in descendant root elements will be collected.)</p>

<p>If a rule is not defined as css selectors, the searching range, return
value and cache of the getter are totally controlled by the rule itself.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Define dom getters for a component.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">help</span><span class="p">({</span>
  <span class="nx">find</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">descendants</span><span class="p">:</span> <span class="s1">'.descendant'</span><span class="p">,</span>
      <span class="na">outOfRoot</span><span class="p">:</span> <span class="nx">luda</span><span class="p">(</span><span class="s1">'#out-of-root'</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="the-listen-helper">The Listen Helper</h3>

<p>The listen helper should return event listener definitions in an array for
binding component event listeners. All listeners will be binded to document
only once and triggered under delegation mode. The binding syntax is similiar
to the <a href="./api#on-name-selector-callback"><code class="highlighter-rouge">luda(selector).on</code></a> method but allows
multiple callbacks.</p>

<p>The execution context of an event callback is the current component instance
if the callback is defined on the component class’s prototype. In this situation,
only events dispatched from the current component’s root element dom tree will
be captured. (For nested components, events dispatched from nested descendant
root element dom trees will not be captured.)</p>

<p>If an event callback isn’t defined on the component class’s prototype, its execution
context is the currentTarget of the captured event. And any events dispatched from
document will be captured. It’s just like define event listeners by calling
<code class="highlighter-rouge">luda(document).on(...)</code>.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Define event listeners for a component.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">help</span><span class="p">({</span>
  <span class="nx">listen</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">[</span>
      <span class="p">[</span><span class="s1">'click keydown@enter'</span><span class="p">,</span> <span class="s1">'.descendant'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">doSomething</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">doSomethingElse</span><span class="p">],</span>
      <span class="p">[</span><span class="s1">'click'</span><span class="p">,</span> <span class="s1">'#out-of-root'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">data</span><span class="p">){},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">event</span><span class="p">,</span> <span class="nx">data</span><span class="p">){}]</span>
    <span class="p">]</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="the-watch-helper">The Watch Helper</h3>

<p>The watch helper is used to watch node and attribute mutations on component dom trees.
An mutation observer will be created for each component instance according to the
definitions. The syntax of defining observers is similiar to binding event listeners
in the listen helper.</p>

<p>If a callback is defined on the current component’s prototype, the callback’s
execution context is the current component instance. Otherwise, the execution
context is the target of the mutation. (For nested components, mutations in nested
descendant root element dom trees will not be captured.)</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Define an observer for a component.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">help</span><span class="p">({</span>
  <span class="nx">watch</span><span class="p">(){</span>
    <span class="k">return</span> <span class="p">{</span>
      <span class="na">node</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="s1">'.descendant'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">doSomething</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">doSomethingElse</span><span class="p">],</span>
        <span class="p">[</span><span class="s1">'.descendant'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">elements</span><span class="p">,</span> <span class="nx">type</span><span class="p">){},</span> <span class="kd">function</span><span class="p">(</span><span class="nx">elements</span><span class="p">,</span> <span class="nx">type</span><span class="p">){}]</span>
      <span class="p">],</span>
      <span class="na">attr</span><span class="p">:</span> <span class="p">[</span>
        <span class="p">[</span><span class="s1">'name value'</span><span class="p">,</span> <span class="s1">'.descendant'</span><span class="p">,</span> <span class="k">this</span><span class="p">.</span><span class="nx">doSomething</span><span class="p">],</span>
        <span class="p">[</span><span class="s1">'name'</span><span class="p">,</span> <span class="s1">'.descendant'</span><span class="p">,</span> <span class="kd">function</span><span class="p">(</span><span class="nx">element</span><span class="p">,</span> <span class="nx">oldValue</span><span class="p">){}]</span>
      <span class="p">]</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="the-create-helper">The Create Helper</h3>

<p>The create helper executes after the find, listen and watch helper executed.
It executes whenever a component instance is created, you can use this helper
to rewrite properties inherited from the component class’s prototype.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">help</span><span class="p">({</span>
  <span class="nx">create</span><span class="p">(){</span>
    <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'countable'</span><span class="p">)){</span>
      <span class="k">this</span><span class="p">.</span><span class="nx">counter</span> <span class="o">=</span> <span class="nx">setTimeout</span><span class="p">(()</span> <span class="o">=&gt;</span> <span class="p">{</span> <span class="k">this</span><span class="p">.</span><span class="nx">counts</span> <span class="o">++</span> <span class="p">})</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="the-destroy-helper">The Destroy Helper</h3>

<p>The destroy helper executes whenever a created component instance is going to
be destroied.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">help</span><span class="p">({</span>
  <span class="nx">destroy</span><span class="p">(){</span>
    <span class="k">if</span><span class="p">(</span><span class="s1">'counter'</span> <span class="k">in</span> <span class="k">this</span><span class="p">){</span>
      <span class="nx">clearTimeout</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">counter</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h2 id="use-mixins">Use Mixins</h2>

<p>Mixins are useful when you need share codes among components, Luda mixins are
flexible and easy to use.</p>

<h3 id="define-mixins">Define Mixins</h3>

<p>Mixins can be defined by calling the <code class="highlighter-rouge">luda.mixin</code> function. This function
accepts two parameters, the name and the property definitions.</p>

<h4 id="named-mixin">Named Mixin</h4>

<p>You can create a named mixin by passing in a string type name and an object type
definition to the <code class="highlighter-rouge">luda.mixin</code> function.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Create a named mixin.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">mixin</span><span class="p">(</span><span class="s1">'myMixin'</span><span class="p">,</span> <span class="p">{</span>
  <span class="na">cls</span><span class="p">:</span> <span class="s1">'active'</span><span class="p">,</span>
  <span class="nx">activate</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cls</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">deactivate</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cls</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">toggle</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cls</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<p>Named mixins can be accessed by passing in a name to the <code class="highlighter-rouge">luda.mixin</code> function.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Access a named mixin.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">mixin</span><span class="p">(</span><span class="s1">'myMixin'</span><span class="p">)</span>
</code></pre></div></div>

<h4 id="anonymous-mixin">Anonymous Mixin</h4>

<p>An anonymous mixin can be created by passing in only an object type definition
to the <code class="highlighter-rouge">luda.mixin</code> function, and the created mixin will be returned.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Create an anonymous mixin.</span>
<span class="kd">let</span> <span class="nx">myMixin</span> <span class="o">=</span> <span class="nx">luda</span><span class="p">.</span><span class="nx">mixin</span><span class="p">({</span>
  <span class="na">cls</span><span class="p">:</span> <span class="s1">'active'</span><span class="p">,</span>
  <span class="nx">activate</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">addClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cls</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">deactivate</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">removeClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cls</span><span class="p">)</span>
  <span class="p">},</span>
  <span class="nx">toggle</span><span class="p">(){</span>
    <span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">toggleClass</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">cls</span><span class="p">)</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h3 id="include-mixins">Include Mixins</h3>

<p>Luda provides some convenient methods to use mixins in components, you can pick
needed mixin properties to include them into different components.</p>

<h4 id="pick-wanted-mixin-properties">Pick Wanted Mixin Properties</h4>

<p>You can use the <code class="highlighter-rouge">.only</code> method of a created mixin to pick the properties needed
in an object, and include the object into a component.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Pick wanted mixin properties.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">include</span><span class="p">(</span>
  <span class="nx">myMixin</span><span class="p">.</span><span class="nx">only</span><span class="p">(</span><span class="s1">'toggle'</span><span class="p">)</span>
<span class="p">)</span>
<span class="p">.</span><span class="nx">protect</span><span class="p">(</span>
  <span class="nx">myMixin</span><span class="p">.</span><span class="nx">only</span><span class="p">(</span><span class="s1">'cls'</span><span class="p">,</span> <span class="s1">'activate'</span><span class="p">,</span> <span class="s1">'deactivate'</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<h4 id="filter-out-unwanted-mixin-properties">Filter Out Unwanted Mixin Properties</h4>

<p>Unwanted mixin properties can be filtered out by calling the <code class="highlighter-rouge">.except</code> method
of a created mixin, the left properties will be assigned into an object and
returned.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Filter out unwanted mixin properties.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">include</span><span class="p">(</span>
  <span class="nx">myMixin</span><span class="p">.</span><span class="nx">except</span><span class="p">(</span><span class="s1">'cls'</span><span class="p">,</span> <span class="s1">'activate'</span><span class="p">,</span> <span class="s1">'deactivate'</span><span class="p">)</span>
<span class="p">)</span>
<span class="p">.</span><span class="nx">protect</span><span class="p">(</span>
  <span class="nx">myMixin</span><span class="p">.</span><span class="nx">except</span><span class="p">(</span><span class="s1">'toggle'</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<h4 id="pick-and-rename-wanted-mixin-properties">Pick And Rename Wanted Mixin Properties</h4>

<p>If you need pick mixin properties and rename them, you can use the <code class="highlighter-rouge">.alias</code>
method, the picked properties will be assigned in an object using the new names.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Pick and rename mixin properties.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">include</span><span class="p">(</span>
  <span class="nx">myMixin</span><span class="p">.</span><span class="nx">alias</span><span class="p">({</span><span class="na">exposedToggle</span><span class="p">:</span> <span class="s1">'toggle'</span><span class="p">})</span>
<span class="p">)</span>
<span class="p">.</span><span class="nx">protect</span><span class="p">(</span>
  <span class="nx">myMixin</span><span class="p">.</span><span class="nx">only</span><span class="p">(</span><span class="s1">'cls'</span><span class="p">,</span> <span class="s1">'activate'</span><span class="p">,</span> <span class="s1">'deactivate'</span><span class="p">)</span>
<span class="p">)</span>
</code></pre></div></div>

<h4 id="pick-all-mixin-properties">Pick All Mixin Properties</h4>

<p>If you need pick all properties of a created mixin, you can use the <code class="highlighter-rouge">.all</code> method.
All defined mixin properties will be assigned in an object and returned.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Pick all mixin properties.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">include</span><span class="p">(</span>
  <span class="nx">myMixin</span><span class="p">.</span><span class="nx">alias</span><span class="p">({</span><span class="na">exposedToggle</span><span class="p">:</span> <span class="s1">'toggle'</span><span class="p">})</span>
<span class="p">)</span>
<span class="p">.</span><span class="nx">protect</span><span class="p">(</span>
  <span class="nx">myMixin</span><span class="p">.</span><span class="nx">all</span><span class="p">()</span>
<span class="p">)</span>
</code></pre></div></div>

<h4 id="directly-access-a-mixin-property">Directly Access A Mixin Property</h4>

<p>If you don’t want to pick mixin properties in an object, but need directly access
the property, you can use the <code class="highlighter-rouge">.get</code> method.</p>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Directly access a mixin property.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">component</span><span class="p">(</span><span class="s1">'myComponent'</span><span class="p">,</span> <span class="s1">'.my-component'</span><span class="p">)</span>
<span class="p">.</span><span class="nx">include</span><span class="p">({</span>
  <span class="nx">toggle</span><span class="p">(){</span>
    <span class="k">if</span><span class="p">(</span><span class="k">this</span><span class="p">.</span><span class="nx">root</span><span class="p">.</span><span class="nx">hasClass</span><span class="p">(</span><span class="s1">'active'</span><span class="p">)){</span>
      <span class="nx">myMixin</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s1">'deactivate'</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">}</span><span class="k">else</span><span class="p">{</span>
      <span class="nx">myMixin</span><span class="p">.</span><span class="kd">get</span><span class="p">(</span><span class="s1">'activate'</span><span class="p">).</span><span class="nx">call</span><span class="p">(</span><span class="k">this</span><span class="p">)</span>
    <span class="p">}</span>
  <span class="p">}</span>
<span class="p">})</span>
</code></pre></div></div>

<h2 id="other-things">Other Things</h2>

<ul>
  <li>
    <p>In some cases, you may handle component creating and destroying manually.
If so, you can add the <code class="highlighter-rouge">data-auto="false"</code> attribute to the component’s
root element.</p>
  </li>
  <li>
    <p>If a component user calls instance methods through a component proxy, the return
value will be the proxy itself. This provides a chain api experience for convinence.
If the methods’ return values are needed, an additional option parameter can be
passed into the methods to break the chain, and the method’s return values will
be collected in an array.</p>
  </li>
</ul>

<div class="language-javascript highlighter-rouge"><div class="highlight"><pre class="highlight"><code><span class="c1">// @example Returns a proxy.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">myComponent</span><span class="p">(</span><span class="s1">'.my-component'</span><span class="p">).</span><span class="nx">doSomething</span><span class="p">(</span><span class="nx">arg</span><span class="p">).</span><span class="nx">doSomethingElse</span><span class="p">(</span><span class="nx">arg</span><span class="p">)</span>
<span class="c1">// @example Returns an array which contains the return values.</span>
<span class="nx">luda</span><span class="p">.</span><span class="nx">myComponent</span><span class="p">(</span><span class="s1">'.my-component'</span><span class="p">).</span><span class="nx">doSomething</span><span class="p">(</span><span class="nx">arg</span><span class="p">,</span> <span class="p">{</span><span class="na">chain</span><span class="p">:</span> <span class="kc">false</span><span class="p">})</span>
</code></pre></div></div>

<ul>
  <li>Get to know more about building Luda components at
the <a href="./api#luda-component">API</a> page.</li>
</ul>

    </article>
  </main>
  <nav id="doc-sub-nav" class="nav-aside col-auto zi-normal d-none d-block-l pr-large pl-medium pb-medium bc-none bi-none">
    <div class="nav-items m-none">
    </div>
  </nav>
  <!-- markdownlint-disable -->
<!-- markdownlint-disable -->




<div id="theme-pannel" data-turbolinks-permanent class="d-none d-block-m fix-r fix-b zi-high mr-large mb-large">

  <div class="btns-x btns-margin jc-end" data-toggle-target="change_theme">
    
    <div class="theme-pannel-option btn-radio btn-hollow-dark bc-main circle">
      
      <input class="change-theme" checked type="radio" name="theme_pannel_apply_theme" value="default">
      
      <label class="bd-none circle sd-high tt-cap">Theme default</label>
    </div>
    
    <div class="btn btn-light btn-ico circle sd-high" data-toggleable data-toggle-for="change_theme_trigger">
      <i class="ico ico-cross"></i>
    </div>
  </div>

  <button class="theme-pannel-trigger btn btn-ico-left btn-dark toggle-active mb-small mr-small circle sd-high" data-toggle-for="change_theme" data-toggle-target="change_theme_trigger" data-toggleable>
    <i class="ico material-icons">brush</i>
    Change Theme
  </button>

</div>
</div>
  </body>
</html>